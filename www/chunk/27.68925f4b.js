(this.webpackJsonp=this.webpackJsonp||[]).push([[27],{1085:function(t,e,n){t.exports=n.p+"assets/img_no_network.238ce6b1.png"},1086:function(t,e,n){t.exports=n.p+"assets/img_no_video.d58dbcbb.png"},1087:function(t,e,n){"use strict";var i=n(963);n.n(i).a},1088:function(t,e,n){e=t.exports=n(14)(!1);var i=n(116)(n(1089));e.push([t.i,"\n.dropped[data-v-a825480c] {\n  position: absolute;\n  left:0;\n  right:0;\n  bottom:0;\n  top:0;\n  background:#000000;\n}\n.dropped .bg-img[data-v-a825480c] {\n    width:100%;height:100%;\n    background:url("+i+");\n    margin: 0 auto;\n    background-size: 100% 100%;\n    width: 1000px;\n    height: 450px;\n    top:50%;\n    left:50%;\n    -webkit-transform:translate(-50%,-50%);\n            transform:translate(-50%,-50%);\n    position: absolute;\n}\n.dropped .no-data[data-v-a825480c] {\n    font-family: PingFangSC-Regular;\n    font-size: 20px;\n    color: #FFFFFF;\n    padding-top:130px;\n    text-align: center;\n    line-height: 20px;\n}\n.dropped .no-data img[data-v-a825480c] {\n      width:250px;\n      margin-top:30px;\n      position: relative;\n}\n",""])},1089:function(t,e,n){t.exports=n.p+"assets/bg_img.6a4f4477.png"},1090:function(t,e,n){"use strict";var i=n(964);n.n(i).a},1091:function(t,e,n){(t.exports=n(14)(!1)).push([t.i,"\n.not-started[data-v-36fd397e] {\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 3;\r\n  background: #000;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  padding-top: 120px;\n}\n.not-started .big-title[data-v-36fd397e] {\r\n    text-align: center;\r\n    font-size: 18px;\r\n    color: #CCCCCC;\n}\n.not-started ul[data-v-36fd397e] {\r\n    padding-top: 60px;\r\n    text-align: center;\n}\n.not-started li[data-v-36fd397e]{\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    width: 220px;\r\n    text-align: left;\r\n    margin: 30px 15px 0 30px\n}\n.not-started li[data-v-36fd397e]:nth-of-type(4n) {\r\n  margin-right: 0;\n}\n.not-started .picture[data-v-36fd397e]{\r\n    text-align: center;\r\n    position: relative;\r\n    height: 120px;\r\n    background: #dedede;\r\n    border-radius: 4px;\r\n    overflow: hidden\n}\n.not-started .picture:hover .play[data-v-36fd397e] {\r\n        opacity: 1;\r\n        -webkit-transform: scale(1);\r\n                transform: scale(1);\n}\n.not-started .picture .list-img[data-v-36fd397e] {\r\n      display: block;\r\n      margin: 0 auto;\r\n      height: 120px;\r\n      border-radius: 4px;\n}\n.not-started .picture .play[data-v-36fd397e] {\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      line-height: 120px;\r\n      opacity: 0;\r\n      -webkit-transform: scale(2);\r\n              transform: scale(2);\r\n      transition: all 0.3s;\r\n      background: rgba(0, 0, 0, .3);\n}\n.not-started .picture .play .svg-icon[data-v-36fd397e] {\r\n        font-size: 38px;\r\n        vertical-align: middle;\n}\n.not-started .picture .tag[data-v-36fd397e] {\r\n      position: absolute;\r\n      right: 6px;\r\n      top: 6px;\r\n      font-size: 12px;\r\n      padding: 4px 10px;\r\n      line-height: 1;\r\n      color: #FFFFFF;\r\n      border-radius: 18px;\r\n      background: rgba(0, 0, 0, .6);\n}\n.not-started .desc[data-v-36fd397e]{\r\n    margin-top: 10px;\r\n    height: 50px;\n}\n.not-started .desc .text-img[data-v-36fd397e]{\r\n      float: left;\r\n      width: 34px;\r\n      height: 34px;\r\n      border-radius: 34px;\r\n      margin-right: 12px;\n}\n.not-started .desc .text .p1[data-v-36fd397e]{\r\n        font-family: PingFangSC-Semibold;\r\n        font-size: 12px;\r\n        color: #fff;\r\n        height: 16px;\r\n        letter-spacing: 0;\n}\n.not-started .desc .text .p2 span[data-v-36fd397e]{\r\n          max-width: 50%;\r\n          font-size: 12px;\r\n          color: #F0F0F0;\r\n          display: inline-block\n}\n.not-started .desc .text .p2 span.num[data-v-36fd397e] {\r\n  float: right;\n}\n.not-started .desc .text .p2 span.num i[data-v-36fd397e], .not-started .desc .text .p2 span.num img[data-v-36fd397e] {\r\n              display: inline-block;\r\n              vertical-align: middle;\r\n              font-style: normal;\n}\n.not-started .desc .text .p2 span.num img[data-v-36fd397e] {\r\n              height: 14px;\n}\r\n",""])},1093:function(t,e,n){"use strict";var i=n(965);n.n(i).a},1094:function(t,e,n){(t.exports=n(14)(!1)).push([t.i,"\n.video-wrap[data-v-3e398084] {\n  height: 100%;\n}\n.video-inner[data-v-3e398084] {\n  width: 100%;\n  height: 100%;\n}\n/* 隐藏右键功能 */\n.video-inner[data-v-3e398084] .dplayer-menu {\n    display: none !important;\n}\n.video-inner[data-v-3e398084] .dplayer-comment {\n    display: none !important;\n}\n",""])},1097:function(t,e,n){"use strict";var i=n(966);n.n(i).a},1098:function(t,e,n){(t.exports=n(14)(!1)).push([t.i,"\n.video-anchor[data-v-80841a06] {\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n}\n.video-anchor .notice-the-gift[data-v-80841a06] {\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 2;\n    width: 100%;\n    height: 0;\n}\n.video-anchor .notice-the-gift[data-v-80841a06] #noticeGift {\n      position: absolute;\n      left: 100%;\n      top: 40px;\n      width: 360px;\n      padding-left: 52px;\n      height: 32px;\n      line-height: 32px;\n      border-radius: 32px;\n      font-size: 12px;\n      background-image: -webkit-gradient(linear, left top, right top, from(#F0AA21), to(#FF521E));\n      background-image: linear-gradient(90deg, #F0AA21 0%, #FF521E 100%);\n}\n.video-anchor .notice-the-gift[data-v-80841a06] #noticeGift .user-img {\n        position: absolute;\n        left: 0;\n        top: -7px;\n        width: 46px;\n        height: 46px;\n        display: block;\n        border-radius: 46px;\n        border: 1px solid #EB9D1E;\n        background: #EB9D1E;\n}\n.video-anchor .notice-the-gift[data-v-80841a06] #noticeGift .txt {\n        float: left;\n        height: 32px;\n        overflow: hidden;\n}\n.video-anchor .notice-the-gift[data-v-80841a06] #noticeGift .txt p {\n          color: #FFE5BF;\n          float: left;\n          margin-right: 4px\n}\n.video-anchor .notice-the-gift[data-v-80841a06] #noticeGift .txt p.name {\n  color: #fff;\n  max-width: 60px;\n}\n.video-anchor .notice-the-gift[data-v-80841a06] #noticeGift .txt .gift-img {\n          float: left;\n          width: 32px;\n          height: 32px;\n}\n.video-inner[data-v-80841a06] {\n  width: 100%;\n  height: 100%;\n}\n/* 隐藏右键功能 */\n.video-inner[data-v-80841a06] .dplayer-menu {\n    display: none !important;\n}\n.video-inner[data-v-80841a06] .dplayer-comment {\n    display: none !important;\n}\n.video-inner[data-v-80841a06] .dplayer-danmaku-item{\n    will-change: transform; \n    /* padding:0 100px; */\n}\n",""])},1099:function(t,e,n){"use strict";var i=n(967);n.n(i).a},1100:function(t,e,n){e=t.exports=n(14)(!1);var i=n(116)(n(1101));e.push([t.i,"\n.icondanmu{\n  font-size:17px;\n  color:#FFFFFF\n}\n.icondanmu:hover{\n  color:#3683FF;\n}\n.icondanmu.active{\n  color:#3683FF;\n}\n.customerBox_special .margin_top17{\n    margin-top:17px;\n}\n.customerBox_special .margin_top14{\n    margin-top:14px;\n}\n.customerBox_special .dan_area{\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    flex-direction:row;\n    justify-content:space-around;\n}\n.customerBox_special .dan_area .rect_parent.active{\n  color:#3683FF;\n}\n.customerBox_special .dan_area .rect_parent:hover{\n  cursor: pointer;\n}\n.customerBox_special .dan_area .rect{\n      width:25px;\n      height:14px;\n      box-sizing:border-box;\n}\n/* &.active{\n        color:#3683FF;\n        + p{\n          color:#3683FF;\n        }\n      } */\n.customerBox_special .dan_area .rect .iconfont{\n        font-size:14px;\n}\n.customerBox_special .dan_area .rect:hover{\n  cursor: pointer;\n}\n.customerBox_special .dan_area .area_choice{\n      margin-top:1px;\n      line-height:17px;\n      text-align:center\n}\n.customerBox_special .dan_area .area_choice.active{\n  color:#3683FF;\n}\n.customerBox_special .dan_area span{\n      display: inline-block\n}\n.customerBox_special .dan_area .checkBox:hover{\n  cursor: pointer;\n}\n.customerBox_special .dan_area .checkBox.active .radiu{\n          border:none;\n          background:url("+i+")\n}\n.customerBox_special .dan_area .checkBox.active span{\n          color:#3683FF\n}\n.customerBox_special .dan_area .checkBox .radiu{\n        width:8px;height:8px;box-sizing: border-box;border-radius: 100%;border:1.3px solid #999999;\n}\n.customerBox_special .area >p{\n      padding:11px 0 0 19px;\n}\n.customerBox_special .info_title{\n    color:#ECECEC;\n    line-height:17px;\n    font-size:12px;\n    padding-left:19px;\n}\n/* 自定义滑块 */\n.customerBox_special #wrapper {\n    position: relative;\n    width: 136px;\n    height: 2px;\n    border-radius: 2.5px;\n    background: #999999;\n    margin:23px auto 0;\n}\n.customerBox_special #wrapper:hover {\n    cursor: pointer;\n}\n.customerBox_special #slider {\n    position: absolute;\n    left: 128px;\n    border-radius: 100%;\n    width: 8px;\n    height: 8px;\n    display: inline-block;\n    background-color: white;\n    cursor: pointer;\n    top: 50%;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%)\n}\n.customerBox_special #fill {\n    width: 128px;\n    height: 2px;\n    background: #3683FF;\n    border-radius: 2.5px\n}\n.customerBox_special #silder_po {\n    position: absolute;\n    top: -22px;\n    height: 16px;\n    width: 36px;\n    opacity: 0.8;\n    background: #FFFFFF;\n    border-radius: 1px;\n    left:128px;\n    background: white;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%);\n    color: #333333;\n    font-size:12px;\n    text-align: center;\n    line-height: 16px;\n}\n\n\n",""])},1101:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iOHB4IiBoZWlnaHQ9IjhweCIgdmlld0JveD0iMCAwIDggOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTQuMSAoNzY0OTApIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPgogICAgPHRpdGxlPue8lue7hCAxMjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSLpobXpnaItMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuS4u+aSrS3nm7Tmkq3pl7Qt5by55bmV6K6+572u5pe2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTE3My4wMDAwMDAsIC01OTAuMDAwMDAwKSIgZmlsbD0iIzM2ODNGRiI+CiAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtMTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwOTguMDAwMDAwLCA0NjMuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0i57yW57uELTEyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3NS4wMDAwMDAsIDEyNy4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNCw4IEMxLjc5MDg2MSw4IDAsNi4yMDkxMzkgMCw0IEMwLDEuNzkwODYxIDEuNzkwODYxLDAgNCwwIEM2LjIwOTEzOSwwIDgsMS43OTA4NjEgOCw0IEM4LDYuMjA5MTM5IDYuMjA5MTM5LDggNCw4IFogTTQsNi42NjY2NjY2NyBDNS40NzI3NTkzMyw2LjY2NjY2NjY3IDYuNjY2NjY2NjcsNS40NzI3NTkzMyA2LjY2NjY2NjY3LDQgQzYuNjY2NjY2NjcsMi41MjcyNDA2NyA1LjQ3Mjc1OTMzLDEuMzMzMzMzMzMgNCwxLjMzMzMzMzMzIEMyLjUyNzI0MDY3LDEuMzMzMzMzMzMgMS4zMzMzMzMzMywyLjUyNzI0MDY3IDEuMzMzMzMzMzMsNCBDMS4zMzMzMzMzMyw1LjQ3Mjc1OTMzIDIuNTI3MjQwNjcsNi42NjY2NjY2NyA0LDYuNjY2NjY2NjcgWiIgaWQ9IuW9oueKtue7k+WQiCI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9IuakreWchuW9oiIgY3g9IjQiIGN5PSI0IiByPSIxIj48L2NpcmNsZT4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},1102:function(t,e,n){"use strict";var i=n(968);n.n(i).a},1103:function(t,e,n){(t.exports=n(14)(!1)).push([t.i,"\n.video-box[data-v-8ed23e9a] {\n  width: 1090px;\n  height: 614px;\n  position: relative;\n  background: #000;\n}\n",""])},1345:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video-box"},[1===t.liveType?n("iframe",{attrs:{src:t.animUrl,width:"100%",height:"100%",frameborder:"0",scrolling:"no"}}):t._e(),t._v(" "),2===t.liveType?n("VideoInner",{attrs:{"match-data":t.matchData}}):t._e(),t._v(" "),3===t.liveType&&Object.keys(t.anchorInfo).length>0?n("VideoAnchor",{attrs:{"match-data":t.matchData,"anchor-info":t.anchorInfo}}):t._e()],1)};i._withStripped=!0;n(263);var a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"video-wrap"},[e("div",{staticClass:"video-inner",attrs:{id:"player"}}),this._v(" "),this.isNotStarted?e("NotStarted"):this._e()],1)};a._withStripped=!0;var o=n(4),r=n.n(o),s=n(18),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isDropped?n("Dropped",{attrs:{type:1}}):n("div",{staticClass:"not-started"},[n("div",{staticClass:"big-title"},[t._v("\n      精彩直播，看不停～～\n    ")]),t._v(" "),n("ul",t._l(t.listData,function(e,i){return n("li",{key:i,class:["nav"],on:{click:function(n){return t.goLive(e)}}},[n("div",{staticClass:"picture",style:{background:"#ddd url("+(e.room_img||e.screenshot_url||t.defaultImg.liveList)+") no-repeat center center / cover"}},[e&&e.dialectType&&e.dialectType.name&&1===e.dialectType.display?n("span",{staticClass:"tag"},[t._v(t._s(e.dialectType.name))]):t._e(),t._v(" "),n("div",{staticClass:"play"},[n("svg",{staticClass:"svg-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#iconet_gj"}})])])]),t._v(" "),n("div",{staticClass:"desc"},[n("default-img",{staticClass:"text-img",attrs:{src:(e.anchor||{}).user_img}}),t._v(" "),n("div",{staticClass:"text"},[n("p",{staticClass:"p1 ellipsis"},[t._v("\n              "+t._s(e.title)+"\n            ")]),t._v(" "),n("p",{staticClass:"p2"},[n("span",{staticClass:"name ellipsis"},[t._v(t._s((e.anchor||{}).nickname))]),t._v(" "),n("span",{staticClass:"num"},[n("i",{staticClass:"iconfont iconcc_ee"}),t._v(" "),n("i",[t._v(t._s(e.heat))])])])])],1)])}),0)])],1)};c._withStripped=!0;n(267);var d=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dropped"},[e("div",{staticClass:"bg-img"}),this._v(" "),e("div",{staticClass:"no-data"},[e("p",[this._v("\n      "+this._s(this.info)+"\n    ")]),this._v(" "),e("img",{attrs:{src:this.imgUrl}})])])};d._withStripped=!0;var l=n(1085),p=n.n(l),u=n(1086),h=n.n(u),v={props:{type:{default:0,type:Number}},data:function(){return{imgUrl:p.a,info:"主播好像网络开小差哦，耐心等待一下吧"}},mounted:function(){1==this.type&&(this.imgUrl=h.a,this.info="暂时没有直播哦，去看看别的内容吧！")}},f=(n(1087),n(6)),g=Object(f.a)(v,d,[],!1,null,"a825480c",null);g.options.__file="src/project/pc/www/pages/live/components/dropped.vue";var m=g.exports,y={components:{Dropped:m},data:function(){return{listData:[],isDropped:!1}},created:function(){this.init()},methods:{init:function(){var t=this;this.$get("v0.4/rooms/proposal",{apiType:"anchor",body:{match_id:this.$route.query.id||0,room_id:this.$route.query.roomId||"",page:1,size:2}}).then(function(e){var n=e.code,i=e.data;200===n&&(t.listData=(i||{}).rows||[],0===t.listData.length&&(t.isDropped=!0))})},goLive:function(t){var e=location.origin+location.pathname+"?id=".concat(t.match_id||0,"&roomId=").concat(t.anchor.room_id);window.location.href=e}}},x=(n(1090),Object(f.a)(y,c,[],!1,null,"36fd397e",null));x.options.__file="src/project/pc/www/pages/live/components/not-started.vue";var b=x.exports,_=(n(1092),null),w={components:{NotStarted:b},props:{matchData:{type:Object,default:function(){return{}}},newMessage:{type:Object,default:function(){return{}}}},data:function(){return{query:{},isNotStarted:!1,videoPlayer:null,videoOptions:{container:null,autoplay:!0,live:!0,theme:"#FADFA3",loop:!1,lang:"zh-cn",screenshot:!0,hotkey:!0,preload:"auto",volume:.7,mutex:!0,video:{quality:[],defaultQuality:0},danmaku:!0,apiBackend:{read:function(t){t.success()},send:function(){}},contextmenu:[]}}},computed:r()({},Object(s.mapGetters)(["barrageMsg"])),watch:{barrageMsg:{handler:function(t){this.pushMessage(t)},deep:!0}},mounted:function(){this.init()},methods:{init:function(){var t=this;if(this.getParams(),this.loadingJs(),this.matchData.liveFlvUrl){var e=this.matchData.liveFlvUrl.slice(this.matchData.liveFlvUrl.indexOf("//"));this.videoOptions.video.quality.push({url:e,name:"高清",type:"auto"})}if(this.matchData.liveM3u8Url){var n=this.matchData.liveM3u8Url.slice(this.matchData.liveM3u8Url.indexOf("//"));this.videoOptions.video.quality.push({url:n,name:"超清",type:"auto"})}this.videoOptions.container=document.getElementById("player"),this.videoPlayer=new _(this.videoOptions),this.videoPlayer.play(),setTimeout(function(){t.$nextTick(function(){t.videoError()})})},loadingJs:function(){_=n(987)},videoError:function(){var t=this;this.videoPlayer.on("emptied",function(){t.isNotStarted=!0}),this.videoPlayer.on("play",function(){t.isNotStarted=!1}),this.videoPlayer.on("error",function(){t.isNotStarted=!0}),this.videoPlayer.on("ended",function(){t.isNotStarted=!0})},getParams:function(){this.query=this.$route.query||{}},pushMessage:function(t){var e=t.slice(-1)[0],n=1!==e.msgType&&2!==e.msgType&&"0"!==e.msgType;if(e&&e.msgType&&!n){var i={text:e.content,color:"#fff",type:"right"};this.videoPlayer.danmaku.draw(i)}}}},I=(n(1093),Object(f.a)(w,a,[],!1,null,"3e398084",null));I.options.__file="src/project/pc/www/pages/live/components/video-inner.vue";var M=I.exports,k=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"video-anchor"},[e("div",{staticClass:"video-inner",attrs:{id:"player"}}),this._v(" "),e("div",{staticClass:"notice-the-gift",attrs:{id:"noticeTheGift"}}),this._v(" "),this.isDropped?e("Dropped",{attrs:{type:0}}):this.isNotStarted?e("NotStarted"):this._e()],1)};k._withStripped=!0;n(207);var C=n(31),S=n(429),D=(n(1095),null),z=null,A={components:{NotStarted:b,Dropped:m},props:{matchData:{type:Object,default:function(){return{}}},anchorInfo:{type:Object,default:function(){return{}}}},data:function(){return{query:{},isNotStarted:!1,isDropped:!1,hasVideoOrigin:!1,videoPlayer:null,reloadTimes:0,defaultQuality:0,videoOptions:{container:null,autoplay:!0,live:!0,theme:"#FADFA3",loop:!1,lang:"zh-cn",screenshot:!0,hotkey:!0,preload:"auto",volume:.7,mutex:!0,unlimited:!0,buttons:{danmaku:{},play:{},volume:{},fullScreen:{}},video:{quality:[],defaultQuality:0,hoverCssClass:""},danmaku:{bottom:"20px",top:"20px"},apiBackend:{read:function(t){t.success()},send:function(){}},contextmenu:[]},videoUrlObj:{},curPlayUrl:"",carton_number:0}},computed:r()({},Object(s.mapGetters)(["barrageMsg"])),watch:{barrageMsg:{handler:function(t){this.pushMessage(t)},deep:!0}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.getParams(),this.loadingJs();var e=this.getVideoSource();if(this.videoOptions.video.quality=this.getVideoSource(),e&&e.length&&(this.curPlayUrl=location.protocol+e[0].url),!this.videoOptions.video.quality||!this.videoOptions.video.quality.length)return this.hasVideoOrigin=!1,void(this.isNotStarted=!0);this.hasVideoOrigin=!0,this.videoOptions.container=document.getElementById("player"),this.videoPlayer=new D(this.videoOptions),this.videoError(),this.videoPlayer.play(),this.settingOpacity(1),this.periodicStat(),Object(S.setTimeout)(function(){t.$nextTick(function(){var e=document.querySelector(".dplayer-setting-box"),n=document.querySelector(".dplayer-setting-origin-panel");t.addStyle(e,{width:"176px",height:"216px",padding:0}),n.innerHTML='<div class="customerBox_special">\n            <div class="area">\n              <p class="info_title">弹幕区域</p>\n              <div class="dan_area margin_top17">\n                <div class="rect_parent" data-type="0">\n                  <div class="rect" >\n                    <i class="iconfont iconicon_danmu_xia"></i>\n                  </div>\n                  <p class="area_choice">无</p>\n                </div>\n                <div class="rect_parent" data-type="1">\n                  <div class="rect" >\n                    <i class="iconfont iconicon_danmu"></i>\n                  </div>\n                  <p class="area_choice">半</p>\n                </div>\n                <div class="rect_parent active" data-type="2">\n                  <div class="rect" >\n                    <i class="iconfont iconicon_danmu_quan"></i>\n                  </div>\n                  <p class="area_choice">全</p>\n                </div>\n              </div>\n            </div>\n            <div class="fontSize margin_top14">\n              <p class="info_title">弹幕字号</p>\n              <div class="dan_area margin_top14">\n                <div data-type="0" class="checkBox">\n                  <span class="radiu" ></span>\n                  <span>小</span>\n                </div>\n                <div  data-type="1" class="active checkBox">\n                  <span class="radiu"></span>\n                  <span class="active">中</span>\n                </div>\n                <div data-type="2" class="checkBox">\n                  <span class="radiu"></span>\n                  <span>大</span>\n                </div>\n              </div>\n            </div>\n            <div class="opacity margin_top14">\n              <p class="info_title">弹幕透明</p>\n              <div>\n                <div id="wrapper">\n                  <div id="fill"></div>\n                  <div id="slider"></div>\n                  <div id="silder_po">100%</div>\n                </div>\n              </div>\n            </div>\n          ',document.querySelector(".dplayer-icon.dplayer-setting-icon").innerHTML="<span><i class='iconfont icondanmu'></i></span>";var i,a=t;document.querySelector(".area").addEventListener("click",function(t){var e=null;if(-1!=t.target.className.indexOf("area_choice")||-1!=t.target.parentElement.className.indexOf("rect")){e=-1!=t.target.className.indexOf("area_choice")?t.target.parentElement:t.target.parentElement.parentElement;for(var n=document.querySelectorAll(".rect_parent"),i=0;i<n.length;i++)n[i].classList.remove("active");switch(e.classList.add("active"),e.getAttribute("data-type")){case"0":a.changeDanmakuStatus(!1);break;case"1":a.changeDanmakuStatus(!0,!0);break;case"2":a.changeDanmakuStatus(!0,!1)}}}),document.querySelector(".fontSize").addEventListener("click",function(t){var e=-1!=t.target.className.indexOf("checkBox")?t.target:t.target.parentElement;if(-1!=e.className.indexOf("checkBox")){a.setFontSize(e.getAttribute("data-type"));for(var n=document.querySelectorAll(".checkBox"),i=0;i<n.length;i++)n[i].classList.remove("active");e.classList.add("active")}}),t.videoPlayer.danmaku.half=!1,(i=function(t,e,n,i){t.addEventListener("click",function(t){if(t.target!==e){t.offsetX>132?(e.style.left="128px",n.style.width="128px",i.style.left="128px"):t.offsetX<4?(e.style.left="0px",n.style.width="0px",i.style.left="0px"):(e.style.left=t.offsetX-4+"px",n.style.width=t.offsetX-4+"px",i.style.left=t.offsetX-4+"px");var o=Math.floor(100*n.offsetWidth/128)+"%";i.innerHTML=o,a.settingOpacity(n.offsetWidth/128)}}),e.addEventListener("mousedown",function(t){var o=t.pageX,r=n.offsetWidth;document.onmousemove=function(t){var s=t.pageX-o;r+s<=0?(e.style.left="0px",n.style.width="0px",i.style.left="0px"):r+s>=132?(e.style.left="128px",n.style.width="128px",i.style.left="128px"):(e.style.left=r+s+"px",n.style.width=r+s+"px",i.style.left=r+s+"px");var c=Math.floor(100*n.offsetWidth/128)+"%";i.innerHTML=c,a.settingOpacity(n.offsetWidth/128)}}),document.addEventListener("mouseup",function(){document.onmousemove=null})},{init:function(){var t=document.querySelector("#wrapper"),e=document.querySelector("#slider"),n=document.querySelector("#fill"),a=document.querySelector("#silder_po");i(t,e,n,a)}}).init()})})},flashCheck:function(){return!!(void 0!==window.ActiveXObject?new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"):navigator.plugins["Shockwave Flash"])},isIE:function(){return!!(window.ActiveXObject||"ActiveXObject"in window)},getVideoSource:function(){this.videoUrlObj=this.getVideoUrl(this.anchorInfo.playAddr);var t=this.videoUrlObj.flv,e=this.isIE()?this.videoUrlObj.hls:"",n=[{suffix:"",name:"超清"},{suffix:"_hd",name:"高清"},{suffix:"_ld",name:"标清"}];if(e){var i=t.slice(0,e.length-5);return n.map(function(t){return{name:t.name,url:i+t.suffix+".m3u8",type:"auto",number:0}})}if(t){var a=t.slice(0,t.length-4);return n.map(function(t){return{name:t.name,url:a+t.suffix+".flv",type:"auto",number:0}})}return[]},loadingJs:function(){D=n(987)},videoError:function(){var t=this;this.videoPlayer.on("waiting",function(){t.carton_number++,t.updateVideoStatus(3)}),this.videoPlayer.on("error",function(){t.updateVideoStatus(2),0==t.reloadTimes?t.$get("/v0.1/room/detail",{apiType:"anchor",body:{roomId:t.$route.query.roomId,uid:t.getUserInfo().uid||""}}).then(function(e){var n=e.code,i=e.data;200===n&&(1==i.status?(t.videoPlayer.reload(t.defaultQuality),t.reloadTimes++,t.isDropped=!0):(t.isDropped=!1,t.isNotStarted=!0))}):3==t.reloadTimes?(t.isDropped=!1,t.isNotStarted=!0,t.reloadTimes=0):(t.reloadTimes++,Object(S.setTimeout)(function(){t.videoPlayer.reload(t.defaultQuality)},3e3))}),this.videoPlayer.on("canplay",function(){t.reloadTimes=0,t.isDropped=!1,t.isNotStarted=!1,t.updateVideoStatus(1)}),this.videoPlayer.on("ended",function(){t.isNotStarted=!0}),this.videoPlayer.on("quality_start",function(e){t.defaultQuality=e.number})},getVideoUrl:function(t){var e={};return t&&t.length?(t.forEach(function(t){var n=t.playUrl.slice(t.playUrl.indexOf("//"));e[t.protocolType]=n}),e):e},getParams:function(){this.query=this.$route.query||{}},pushMessage:function(t){var e=t.slice(-1)[0],n=1!==e.msgType&&2!==e.msgType&&"0"!==e.msgType;if(e&&e.msgType&&!n){var i={text:e.content,color:"#fff",type:0};this.hasVideoOrigin&&this.videoPlayer.danmaku.draw(i)}},settingOpacity:function(t){this.videoPlayer.danmaku.opacity(t)},setFontSize:function(t){switch(t){case"0":document.querySelector(".dplayer-danmaku").style.fontSize="16px",this.videoPlayer.danmaku.size=!1;break;case"1":document.querySelector(".dplayer-danmaku").style.fontSize="22px",this.videoPlayer.danmaku.size=!1;break;case"2":document.querySelector(".dplayer-danmaku").style.fontSize="28px",this.videoPlayer.danmaku.size=!0}},changeDanmakuStatus:function(t,e){t?(this.videoPlayer.danmaku.showing=!0,this.videoPlayer.danmaku.half=e):this.videoPlayer.danmaku.hide()},addStyle:function(t,e){for(var n in e)t.style[n]=e[n]},getAnchorRoomInfo:function(t){var e=this;this.$get("/v0.1/room/detail",{apiType:"anchor",body:{roomId:t,uid:this.getUserInfo().uid||""}}).then(function(t){var n=t.code,i=t.data;200===n&&(e.anchorInfo=i||{},e.liveType=3)})},updateVideoStatus:function(t){var e={device_type:3,device_os:Object(C.g)(),network_type:Object(C.h)(),room_id:this.query.roomId,uid:this.commUserInfo.uid,play_url:this.curPlayUrl,play_status:t,trigger_time:(new Date).getTime()};4===t&&(e.carton_number=this.carton_number,e.periodic_unit=18e4),this.$post("/v0.6/device/networkLogs",{apiType:"anchor",body:e}).then(function(){})},periodicStat:function(){var t=this;z=Object(S.setTimeout)(function(){t.updateVideoStatus(4),Object(S.clearTimeout)(z),t.carton_number=0,t.periodicStat()},18e4)}}},j=(n(1097),n(1099),Object(f.a)(A,k,[],!1,null,"80841a06",null));j.options.__file="src/project/pc/www/pages/live/components/video-anchor.vue";var N={components:{VideoInner:M,VideoAnchor:j.exports},props:{matchData:{type:Object,default:function(){return{}}},liveType:{type:Number,default:0},anchorInfo:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{animUrl:function(){return Object(C.a)(this.matchData.animUrl)}}},O=(n(1102),Object(f.a)(N,i,[],!1,null,"8ed23e9a",null));O.options.__file="src/project/pc/www/pages/live/components/video-box.vue";e.a=O.exports},2086:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"live-container"},[e("div",{staticClass:"live-top"},[e("div",{staticClass:"live-box clearfix"},[this.matchData?e("VideoBox",{attrs:{"match-data":this.matchData,"live-type":this.liveType}}):this._e()],1)])])};i._withStripped=!0;var a={components:{VideoBox:n(1345).a},data:function(){return{matchData:"",liveType:1,query:{},hasVideo:!1}},created:function(){this.init()},destroyed:function(){this.G_SetNav(1)},methods:{init:function(){var t=this;this.getParams(),this.G_SetNav(2),document.querySelector(".header").style.display="none",document.querySelector(".footer").style.display="none",this.$get("/v5/match/match",{id:this.query.id||1519268}).then(function(e){e.data&&(t.matchData=e.data||{},(t.matchData.liveFlvUrl||t.matchData.liveFlvUrl)&&(t.hasVideo=!0,t.liveType=2))})},switchLiveType:function(t){this.liveType=t},getParams:function(){this.query=this.$route.query||{}}}},o=n(6),r=Object(o.a)(a,i,[],!1,null,"5a25ee98",null);r.options.__file="src/project/pc/www/pages/live/video.vue";e.default=r.exports},963:function(t,e,n){var i=n(1088);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(15).default)("76985462",i,!1,{})},964:function(t,e,n){var i=n(1091);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(15).default)("56709168",i,!1,{})},965:function(t,e,n){var i=n(1094);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(15).default)("606cfc0f",i,!1,{})},966:function(t,e,n){var i=n(1098);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(15).default)("79a98922",i,!1,{})},967:function(t,e,n){var i=n(1100);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(15).default)("43895702",i,!1,{})},968:function(t,e,n){var i=n(1103);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(15).default)("1767e4b0",i,!1,{})}}]);