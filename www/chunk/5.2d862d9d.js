(this.webpackJsonp=this.webpackJsonp||[]).push([[5],{1257:function(t,a,e){var n=e(1776);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,e(15).default)("1be3d5c8",n,!1,{})},1774:function(t,a,e){"use strict";var n=e(27),i=e(81),s=e(22),o=e(213),r=e(436);n(n.P+n.R,"Promise",{finally:function(t){var a=o(this,i.Promise||s.Promise),e="function"==typeof t;return this.then(e?function(e){return r(a,t()).then(function(){return e})}:t,e?function(e){return r(a,t()).then(function(){throw e})}:t)}})},1775:function(t,a,e){"use strict";var n=e(1257);e.n(n).a},1776:function(t,a,e){(t.exports=e(14)(!1)).push([t.i,".ellipsis[data-v-e6e21628] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n[data-v-e6e21628] .ivu-spin-fix {\n  z-index: 0;\n}\n[data-v-e6e21628] .ivu-spin-fix .ivu-spin-main {\n    top: 30%;\n}\n.integral-rank-wrap[data-v-e6e21628] {\n  overflow: hidden;\n  margin: auto;\n  width: 1200px;\n  height: 227px;\n  background-color: #fff;\n  margin-top: 74px;\n  margin-bottom: 15px;\n}\n.integral-rank-wrap .team[data-v-e6e21628] {\n    overflow: hidden;\n    position: relative;\n    height: 156px;\n    margin-top: 13px;\n    border-bottom: 1px solid #F4F4F4;\n}\n.integral-rank-wrap .team .league-info[data-v-e6e21628] {\n      position: absolute;\n      left: 28px;\n      top: 20px;\n      font-family: PingFangSC-Medium;\n      font-size: 14px;\n      color: #666666;\n      letter-spacing: 0;\n      text-align: center;\n}\n.integral-rank-wrap .team .league-info img[data-v-e6e21628] {\n        width: 30px;\n        height: 30px;\n        margin-right: 14px;\n}\n.integral-rank-wrap .team .name[data-v-e6e21628] {\n      font-family: PingFangSC-Semibold;\n      font-size: 28px;\n      color: #333333;\n      letter-spacing: 0;\n      text-align: right;\n      line-height: 90px;\n      padding: 44px 0 22px;\n      position: absolute;\n}\n.integral-rank-wrap .team .name span[data-v-e6e21628] {\n        display: inline-block;\n        vertical-align: middle;\n        max-width: 340px;\n        font-family: PingFangSC-Semibold;\n        font-weight: 600;\n        font-size: 28px;\n        color: #333333;\n}\n.integral-rank-wrap .team .name.host-name[data-v-e6e21628] {\n        right: 50%;\n        margin-right: 131px;\n}\n.integral-rank-wrap .team .name.host-name span[data-v-e6e21628] {\n          margin-right: 16px;\n}\n.integral-rank-wrap .team .name.guest-name[data-v-e6e21628] {\n        left: 50%;\n        margin-left: 131px;\n}\n.integral-rank-wrap .team .name.guest-name span[data-v-e6e21628] {\n          margin-left: 16px;\n}\n.integral-rank-wrap .team .name img[data-v-e6e21628] {\n        height: 90px;\n}\n.integral-rank-wrap .team .score[data-v-e6e21628] {\n      position: absolute;\n      left: 0;\n      right: 0;\n      text-align: center;\n}\n.integral-rank-wrap .team .score .league-name[data-v-e6e21628] {\n        font-family: PingFangSC-Regular;\n        font-size: 12px;\n        color: #A6A6A6;\n        letter-spacing: 0;\n        text-align: center;\n        line-height: 14px;\n        margin-top: 26px;\n}\n.integral-rank-wrap .team .score .league-name span[data-v-e6e21628] {\n          color: #E99392;\n}\n.integral-rank-wrap .team .score .match-time[data-v-e6e21628] {\n        margin-top: 13px;\n        font-family: PingFangSC-Regular;\n        font-size: 12px;\n        color: #A6A6A6;\n        line-height: 12px;\n}\n.integral-rank-wrap .team .score .team-score[data-v-e6e21628] {\n        line-height: 48px;\n        height: 48px;\n        margin-top: 22px;\n        font-family: DINCondensed-Bold;\n        font-size: 62px;\n        color: #333333;\n        letter-spacing: 0;\n        text-align: center;\n        box-sizing: border-box;\n}\n.integral-rank-wrap .team .score .team-score span[data-v-e6e21628] {\n          display: inline-block;\n          line-height: 48px;\n          height: 48px;\n}\n.integral-rank-wrap .team .score .team-score span.ii[data-v-e6e21628] {\n          width: 22px;\n          margin: 0 15px 0 15px;\n          font-size: 40px;\n          color: #666666;\n          font-style: normal;\n          position: relative;\n          top: -9px;\n}\n.integral-rank-wrap .navs[data-v-e6e21628] {\n    height: 58px;\n    display: flex;\n    justify-content: center;\n}\n.integral-rank-wrap .navs li[data-v-e6e21628] {\n      height: 58px;\n      position: relative;\n      font-family: PingFangSC-Regular;\n      font-size: 20px;\n      color: #878787;\n      margin-right: 79px;\n      padding: 16px 0 14px;\n      cursor: pointer;\n      white-space: nowrap;\n}\n.integral-rank-wrap .navs li[data-v-e6e21628]:last-child {\n        margin-right: 0;\n}\n.integral-rank-wrap .navs li.active[data-v-e6e21628], .integral-rank-wrap .navs li[data-v-e6e21628]:hover {\n        color: #3683FF;\n        font-weight: 600;\n        cursor: default;\n}\n.integral-rank-wrap .navs li.active.active[data-v-e6e21628]:after, .integral-rank-wrap .navs li:hover.active[data-v-e6e21628]:after {\n          position: absolute;\n          content: '';\n          height: 3px;\n          background: #3683FF;\n          left: -4px;\n          right: -4px;\n          bottom: 0;\n}\n",""])},2084:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"analyze"},[t.spinShow?e("div",{staticClass:"page-inner integral-rank-wrap"},[e("div",{staticClass:"team"},[e("div",{class:["host-name","name",{"tip-basketball":t.sportType.isBasketball}]},[e("span",{staticClass:"ellipsis"},[t._v(t._s(t.sportType.isFootball?t.matchData.hostTeamName:t.matchData.guestTeamName))]),t._v(" "),e("default-img",{attrs:{src:t.sportType.isFootball?t.matchData.hostTeamLogo||t.defaultImg.football:t.matchData.guestTeamLogo||t.defaultImg.basketball,"default-type":t.sportType.isFootball?1:t.sportType.isBasketball?2:""}})],1),t._v(" "),e("div",{staticClass:"score"},[e("p",{staticClass:"league-name"},[t._v("\n          "+t._s(""+((2===t.matchData.sportId?t.matchData.leagueNick:""+(t.matchData.leagueNick||"")+(t.matchData.round||""))||"联赛"))+"\n           \n          "+t._s(t.showTime?t.matchData.matchStatusDesc+" "+(2===t.matchData.sportId?t.playedBasketball:"")+" "+(1===t.matchData.sportId?t.played:""):t.matchStatus)+"\n          "),e("span",[t._v(" "+t._s(t.showTime&&2==t.matchData.sportId?"live":""))])]),t._v(" "),1!==t.matchData.matchStatus?e("p",{staticClass:"team-score"},[e("span",[t._v(t._s(t.sportType.isFootball?t.matchData.hostTeamNormalScore:t.matchData.guestTeamScore))]),t._v(" "),e("span",{staticClass:"ii"},[t._v(":")]),t._v(" "),e("span",[t._v(t._s(t.sportType.isFootball?t.matchData.guestTeamNormalScore:t.matchData.hostTeamScore))])]):e("p",{staticClass:"team-score"},[t._v("\n          VS\n        ")]),t._v(" "),e("p",{staticClass:"match-time"},[t._v("\n          "+t._s(t.dayjs(t.matchData.matchTime).format("YYYY-MM-DD HH:mm"))+"\n        ")])]),t._v(" "),e("div",{class:["guest-name","name",{"tip-basketball":t.sportType.isBasketball}]},[e("default-img",{attrs:{src:t.sportType.isFootball?t.matchData.guestTeamLogo||t.defaultImg.football:t.matchData.hostTeamLogo||t.defaultImg.basketball}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.matchData.hostTeamName,expression:"matchData.hostTeamName"}],staticClass:"ellipsis"},[t._v(t._s(t.sportType.isFootball?t.matchData.guestTeamName:t.matchData.hostTeamName+"(主)"))])],1)]),t._v(" "),e("ul",{staticClass:"navs"},t._l(t.navs,function(a,n){return e("li",{key:n,class:["nav",{active:t.navActiveIndex===n}],on:{click:function(e){return t.goNav(a,n)}}},[t._v("\n        "+t._s(a.name)+"\n      ")])}),0)]):e("Spin",{attrs:{fix:""}},[e("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"18"}}),t._v(" "),e("div",[t._v("Loading")])],1),t._v(" "),t.matchDataLength?e("router-view",{attrs:{"match-data":t.matchData},on:{"update:matchData":function(a){t.matchData=a},"update:match-data":function(a){t.matchData=a},setNavs:t.setNavs}}):t._e(),t._v(" "),e("side-tools",{attrs:{"no-o-player":!0}})],1)};n._withStripped=!0;e(266),e(207);var i=e(4),s=e.n(i),o=(e(33),e(26),e(44),e(79),e(28),e(11),e(1774),e(38)),r="/score/detail/football/",c="/score/detail/basketball/",l=function(t){return{football:[{name:"数据分析",url:"".concat(r,"analyze/").concat(t)},{name:"主流欧赔",url:"".concat(r,"ouzhi/").concat(t)},{name:"亚盘指数",url:"".concat(r,"yapan/").concat(t)},{name:"大小指数",url:"".concat(r,"dx/").concat(t)},{name:"三合一",url:"".concat(r,"three/").concat(t)},{name:"比赛直播",url:"/live/detail?id=".concat(t),key:"live"}],basketball:[{name:"数据分析",url:"".concat(c,"analyze/").concat(t)},{name:"欧指指数",url:"".concat(c,"ouzhi/").concat(t)},{name:"让分",url:"".concat(c,"yapan/").concat(t)},{name:"总分",url:"".concat(c,"dx/").concat(t)},{name:"技术统计",url:"/live/detail?id=".concat(t),key:"live"}]}},m=e(264),h=e(271),p=["topic_mq/match/*/score","topic_mq/match/*/status","topic_mq/match/*/compareOdds","topic_mq/match/*/loOddsData"],d={name:"ScoreDetailIndex",components:{Spin:o.Spin,Icon:o.Icon,SideTools:h.a},data:function(){return{spinShow:!1,navs:[],sportType:{isFootball:!1,isBasketball:!1},matchDataLength:0,matchData:{},navActiveIndex:0,time:"",timer:null,setSecond:null,timerBasketball:null}},computed:{matchStatus:function(){var t=this.matchData.matchStatus;return 1===t||4===t?"未":3===t?"完":"未知"},showTime:function(){return 2===this.matchData.matchStatus},played:function(){return this.setSecond||0===this.setSecond?this.time>90?"90'+":this.time+"'"+this.setSecond+"''":""},playedBasketball:function(){return this.matchData.timePlayed?this.dayjs(1e3*this.matchData.timePlayed).format("mm:ss"):""}},created:function(){var t=/football/.test(this.$route.path)?1:2;this.setSportId(t)},mounted:function(){this.init()},beforeDestroy:function(){clearInterval(this.timer),clearInterval(this.timerBasketball),this.mqtt.unsubscribe(p)},methods:{setSportId:function(t){switch(t){case 1:this.sportType.isFootball=!0;break;case 2:this.sportType.isBasketball=!0}},init:function(){var t=this;this.$requireParams({matchId:this.$route.params.matchId})||this.$get("/v5/match/match",{id:this.$route.params.matchId}).then(function(a){a.data&&(t.matchData=a.data,p=p.map(function(a){return a.replace("*",t.matchData.matchId)}),t.setMqtt(),t.matchData.timePlayed=Math.abs(t.matchData.timePlayed),t.matchDataLength=Object.keys(t.matchData).length,2===t.matchData.matchStatus&&(1===t.matchData.sportId?t.startTime():2===t.matchData.sportId&&t.startTimeBasketball()),t.setSportId(a.data.sportId)),t.setNavs()}).finally(function(){t.spinShow=!0})},setMqtt:function(){var t=new m.a(this.getMessage);this.mqtt=t,this.mqtt.subscribe(p)},getMessage:function(t,a){"score"===a.mqttName&&a.matchId===this.matchData.matchId&&(1===a.sportId&&(this.matchData=s()({},this.matchData,{hostTeamNormalScore:a.hostTeamScore,guestTeamNormalScore:a.guestTeamScore})),2===a.sportId&&(this.matchData=s()({},this.matchData,{hostTeamScore:a.hostTeamScore,guestTeamScore:a.guestTeamScore,timePlayed:Math.abs(a.timePlayed)}))),2===a.sportId&&"status"===a.mqttName&&(this.matchData=s()({},this.matchData,{matchStatusDesc:a.statusDesc,timePlayed:Math.abs(a.timePlayed)}))},setNavs:function(){var t=this;"footballDetail"===this.$route.matched[0].name?this.navs=l(this.matchData.matchId).football:"basketballDetail"===this.$route.matched[0].name&&(this.navs=l(this.matchData.matchId).basketball),this.navActiveIndex=this.navs.findIndex(function(a){return a.url===t.$route.path})},startTime:function(){var t=this;if(clearInterval(this.timer),this.matchData.timePlayed){this.matchData.matchStatusCode;var a=Math.floor(this.matchData.timePlayed/60);this.setSecond=Math.floor(this.matchData.timePlayed%60),a<0&&(a=0),this.time=a,this.timer=setInterval(function(){t.setSecond=t.setSecond+1,60===t.setSecond&&(t.setSecond=0,t.time+=1)},1e3)}},startTimeBasketball:function(){var t=this;if(clearInterval(this.timerBasketball),this.matchData.timePlayed){var a=Math.floor(Math.abs(this.matchData.timePlayed/60));this.setSecond=Math.floor(Math.abs(this.matchData.timePlayed%60)),a<0&&(a=0),this.time=a,this.timerBasketball=setInterval(function(){0===t.setSecond&&(t.setSecond=60,t.time-=1),t.setSecond=t.setSecond-1},1e3)}},goNav:function(t,a){"live"!==t.key&&(this.navActiveIndex=a),this.$router["live"===t.key?"openNewPage":"push"](t.url)}}},u=(e(1775),e(6)),g=Object(u.a)(d,n,[],!1,null,"e6e21628",null);g.options.__file="src/project/pc/www/pages/score/matchDetail/index.vue";a.default=g.exports}}]);