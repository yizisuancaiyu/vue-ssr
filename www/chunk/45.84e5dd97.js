(this.webpackJsonp=this.webpackJsonp||[]).push([[45],{1202:function(i,a,e){var t=e(1668);"string"==typeof t&&(t=[[i.i,t,""]]),t.locals&&(i.exports=t.locals);(0,e(15).default)("91b586aa",t,!1,{})},1664:function(i,a){i.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1ICg3ODA3NikgLSBodHRwczovL3NrZXRjaGFwcC5jb20gLS0+CiAgICA8dGl0bGU+5Zu+5qCHL+WIoOmZpDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSLlm77moIcv5Yig6ZmkIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i57yW57uELTIiPgogICAgICAgICAgICA8cmVjdCBpZD0i5Y2g5L2N56ymIiBmaWxsPSIjRDhEOEQ4IiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjwvcmVjdD4KICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgZmlsbD0iI0ZGRkZGRiIgeD0iMCIgeT0iMyIgd2lkdGg9IjE2IiBoZWlnaHQ9IjEiIHJ4PSIwLjUiPjwvcmVjdD4KICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgZmlsbD0iI0ZGRkZGRiIgeD0iNCIgeT0iMSIgd2lkdGg9IjgiIGhlaWdodD0iMSIgcng9IjAuNSI+PC9yZWN0PgogICAgICAgICAgICA8cGF0aCBkPSJNMTIuNSw0IEwxMi41LDEzIEMxMi41LDEzLjg0NjUzNjIgMTEuOTU1NDQ2OCwxNC41IDExLjMzMzMzMzMsMTQuNSBMNC42NjY2NjY2NywxNC41IEM0LjA0NDU1MzE2LDE0LjUgMy41LDEzLjg0NjUzNjIgMy41LDEzIEwzLjUsNCBMMi41LDQgTDIuNSwxMyBDMi41LDE0LjM2MjYwMjggMy40NDc4MzEwMSwxNS41IDQuNjY2NjY2NjcsMTUuNSBMMTEuMzMzMzMzMywxNS41IEMxMi41NTIxNjksMTUuNSAxMy41LDE0LjM2MjYwMjggMTMuNSwxMyBMMTMuNSw0IEwxMi41LDQgWiIgaWQ9Iui3r+W+hCIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIGZpbGw9IiNGRkZGRkYiIHg9IjkiIHk9IjYiIHdpZHRoPSIxIiBoZWlnaHQ9IjciIHJ4PSIwLjUiPjwvcmVjdD4KICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgZmlsbD0iI0ZGRkZGRiIgeD0iNiIgeT0iNiIgd2lkdGg9IjEiIGhlaWdodD0iNyIgcng9IjAuNSI+PC9yZWN0PgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},1665:function(i,a){i.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1ICg3ODA3NikgLSBodHRwczovL3NrZXRjaGFwcC5jb20gLS0+CiAgICA8dGl0bGU+aWNvbi/mt7vliqAv6buY6K6kPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9Imljb24v5re75YqgL+m7mOiupCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Imljb24v5re75YqgIiBmaWxsPSIjRDhEOEQ4Ij4KICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgeD0iMCIgeT0iMTEiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyIiByeD0iMSI+PC9yZWN0PgogICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMi4wMDAwMDAsIDEyLjAwMDAwMCkgcm90YXRlKC05MC4wMDAwMDApIHRyYW5zbGF0ZSgtMTIuMDAwMDAwLCAtMTIuMDAwMDAwKSAiIHg9IjAiIHk9IjExIiB3aWR0aD0iMjQiIGhlaWdodD0iMiIgcng9IjEiPjwvcmVjdD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},1666:function(i,a){i.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1ICg3ODA3NikgLSBodHRwczovL3NrZXRjaGFwcC5jb20gLS0+CiAgICA8dGl0bGU+aWNvbi/mt7vliqAv6Kem56Kw54q25oCBPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9Imljb24v5re75YqgL+inpueisOeKtuaAgSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgZmlsbD0iIzM2ODNGRiIgaWQ9IuefqeW9oiI+CiAgICAgICAgICAgIDxyZWN0IHg9IjAiIHk9IjExIiB3aWR0aD0iMjQiIGhlaWdodD0iMiIgcng9IjEiPjwvcmVjdD4KICAgICAgICAgICAgPHJlY3QgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIuMDAwMDAwLCAxMi4wMDAwMDApIHJvdGF0ZSgtOTAuMDAwMDAwKSB0cmFuc2xhdGUoLTEyLjAwMDAwMCwgLTEyLjAwMDAwMCkgIiB4PSIwIiB5PSIxMSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjIiIHJ4PSIxIj48L3JlY3Q+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},1667:function(i,a,e){"use strict";var t=e(1202);e.n(t).a},1668:function(i,a,e){(i.exports=e(14)(!1)).push([i.i,".feedback[data-v-269d1ac8] {\n  width: 1200px;\n  margin: 49px auto;\n  padding-bottom: 49px;\n  background: #ffffff;\n}\n.feedback .form-title[data-v-269d1ac8] {\n    padding: 21px 0 19.5px 75px;\n    border-bottom: 1px solid #F0F0F0;\n}\n.feedback .form-title span[data-v-269d1ac8] {\n      font-family: PingFangSC-Semibold;\n      font-weight: 600;\n      font-size: 20px;\n      line-height: 28px;\n      color: #3683FF;\n}\n.feedback .ivu-form[data-v-269d1ac8] {\n    padding-top: 20.5px;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item {\n      margin-bottom: 20px;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item:last-child {\n        margin-bottom: 0;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-label {\n        font-family: PingFangSC-Regular;\n        font-size: 14px;\n        color: #333333;\n        line-height: 20px;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-label:before {\n          color: #ff9100;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content {\n        color: #666666;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .ivu-radio-wrapper .ivu-radio-inner {\n          border-color: #CACACA;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .ivu-radio-wrapper:hover .ivu-radio .ivu-radio-inner {\n          border-color: #3683FF;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .ivu-radio-wrapper .ivu-radio-checked .ivu-radio-inner {\n          border-color: #3683FF;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .ivu-radio-wrapper .ivu-radio-checked .ivu-radio-inner::after {\n            background: #3683FF;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .ivu-input-wrapper textarea {\n          width: 500px;\n          height: 128px;\n          resize: none;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .ivu-input-wrapper input {\n          width: 300px;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .uploaded-img {\n          position: relative;\n          display: inline-block;\n          margin-right: 10px;\n          vertical-align: top;\n          cursor: pointer;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .uploaded-img img {\n            width: 110px;\n            height: 100px;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .uploaded-img:hover .delete {\n            opacity: 0.4;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .uploaded-img .delete {\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            transition: all 0.3s ease;\n            opacity: 0;\n            background: #000000;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .uploaded-img .delete img {\n              position: absolute;\n              width: 16px;\n              height: 16px;\n              left: 50%;\n              top: 50%;\n              transform: translate(-50%, -50%);\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .ivu-upload {\n          display: inline-block;\n          width: 110px;\n          height: 100px;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .ivu-upload .plus {\n            height: 100%;\n            line-height: 100px;\n            text-align: center;\n            background: #F3F3F3;\n            cursor: pointer;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .ivu-upload .plus .default {\n              display: inline;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .ivu-upload .plus .hover {\n              display: none;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .ivu-upload .plus:hover .default {\n              display: none;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .ivu-upload .plus:hover .hover {\n              display: inline;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .upload-tip {\n          margin-top: 10px;\n          line-height: 12px;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .upload-tip span {\n            font-size: 12px;\n            color: #999999;\n}\n.feedback .ivu-form[data-v-269d1ac8] .ivu-form-item .ivu-form-item-content .ivu-btn {\n          padding: 5px 38px;\n}\n",""])},2117:function(i,a,e){"use strict";e.r(a);var t=function(){var i=this,a=i.$createElement,t=i._self._c||a;return t("div",{staticClass:"feedback"},[i._m(0),i._v(" "),t("Form",{ref:"formRef",attrs:{model:i.formData,rules:i.ruleValidate,"label-width":200}},[t("FormItem",{attrs:{label:"反馈类型：",prop:"catalogId"}},[t("RadioGroup",{model:{value:i.formData.catalogId,callback:function(a){i.$set(i.formData,"catalogId",a)},expression:"formData.catalogId"}},i._l(i.typeList,function(a){return t("Radio",{key:a.id,attrs:{label:a.id}},[i._v("\n          "+i._s(a.catalogName)+"\n        ")])}),1)],1),i._v(" "),t("FormItem",{attrs:{label:"反馈内容：",prop:"content"}},[t("Input",{attrs:{type:"textarea",placeholder:"您的反馈将帮助我们尽快成长"},on:{"on-change":i.onChange},model:{value:i.formData.content,callback:function(a){i.$set(i.formData,"content",a)},expression:"formData.content"}})],1),i._v(" "),t("FormItem",{attrs:{label:"添加图片：",prop:"pic"}},[i._l(i.uploadedList,function(a,n){return t("div",{key:a.imgUrl,staticClass:"uploaded-img"},[t("img",{attrs:{src:a.imgUrl}}),i._v(" "),t("div",{staticClass:"delete",on:{click:function(a){return i.deleteImg(n)}}},[t("img",{attrs:{src:e(1664)}})])])}),i._v(" "),t("Upload",{ref:"upload",attrs:{"show-upload-list":!1,"on-success":i.handleSuccess,format:["jpg","jpeg","png"],"before-upload":i.handleBeforeUpload,multiple:"",action:i.uploadAction}},[t("div",{staticClass:"plus"},[t("img",{staticClass:"default",attrs:{src:e(1665)}}),i._v(" "),t("img",{staticClass:"hover",attrs:{src:e(1666)}})])]),i._v(" "),t("div",{staticClass:"upload-tip"},[t("span",[i._v("仅支持JPG、GIF、PNG图片，且文件小于4M，最多上传5张")])])],2),i._v(" "),t("FormItem",{attrs:{label:"您的电话：",prop:"mobile"}},[t("Input",{model:{value:i.formData.mobile,callback:function(a){i.$set(i.formData,"mobile",a)},expression:"formData.mobile"}})],1),i._v(" "),t("FormItem",{attrs:{label:"您的邮箱：",prop:"email"}},[t("Input",{model:{value:i.formData.email,callback:function(a){i.$set(i.formData,"email",a)},expression:"formData.email"}})],1),i._v(" "),t("FormItem",[t("Button",{attrs:{type:"primary"},on:{click:i.handleSubmit}},[i._v("\n        提交\n      ")])],1)],1)],1)};t._withStripped=!0;e(33),e(26),e(11),e(44),e(78);var n=e(4),o=e.n(n),r=(e(209),e(38)),d=e(68),m=e(18),I=e(42),u=Object(I.a)().apiInfo.java,l={components:{Form:r.Form,FormItem:r.FormItem,Input:r.Input,Button:r.Button,RadioGroup:r.RadioGroup,Radio:r.Radio,Upload:r.Upload},data:function(){return{formData:{catalogId:"",content:"",mobile:"",email:""},ruleValidate:{catalogId:[{required:!0,type:"number",message:"请选择反馈类型",trigger:"change"}],content:[{required:!0,message:"请输入反馈内容",trigger:"blur"},{type:"string",max:200,message:"最多输入200字",trigger:"blur"}],mobile:[{validator:function(i,a,e){a&&(/^1[3456789]\d{9}$/.test(a)||e(new Error("请输入正确的手机号")));e()},trigger:"blur"}],email:[{validator:function(i,a,e){a&&(new RegExp("^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$").test(a)||e(new Error("请输入正确的邮箱地址")));e()},trigger:"blur"}]},uploadAction:Object(d.d)()+"/upload",uploadedList:[]}},computed:o()({},Object(m.mapGetters)({typeList:"home/displayFeedbackType"})),asyncData:function(i){return i.store.dispatch("home/getFeedbackType")},methods:{handleMaxSize:function(i){return!(i.size/1024/1024>4)||(this.$error("图片大小不超过4M"),!1)},handleFormat:function(i){var a=i.type;return!!["image/jpeg","image/gif","image/png"].includes(a)||(this.$error("仅支持JPG、GIF、PNG格式的图片"),!1)},handleImageCount:function(){return!(this.$refs.upload.fileList.length>=5)||(this.$error("最多可上传5张图片"),!1)},handleBeforeUpload:function(i){return!!this.handleFormat(i)&&(!!this.handleMaxSize(i)&&!!this.handleImageCount(i))},handleSuccess:function(i,a){var e={imgUrl:i.data.imgUrl};this.uploadedList.push(e)},handleSubmit:function(){var i=this;this.$refs.formRef.validate(function(a){if(a){var e=i.uploadedList.map(function(i){return i.imgUrl}),t=o()({uid:i.getUserInfo().uid,images:e},i.formData);i.$post(u+"/feedback/v1/save",{headers:{Authorization:localStorage.getItem("token")},body:t}).then(function(){i.$success("提交成功"),i.resetForm()}).catch(function(a){i.$error("提交失败")})}})},resetForm:function(){var i=this;Object.keys(this.formData).forEach(function(a){i.formData[a]=""}),this.uploadedList=[]},deleteImg:function(i){this.uploadedList.splice(i,1),this.$refs.upload.fileList.splice(i,1)},onChange:function(i){var a=this,e=i.target.value.length;e>200&&this.$nextTick(function(){a.formData.content=i.target.value.substring(0,200)})}}},c=(e(1667),e(6)),g=Object(c.a)(l,t,[function(){var i=this.$createElement,a=this._self._c||i;return a("div",{staticClass:"form-title"},[a("span",[this._v("意见反馈")])])}],!1,null,"269d1ac8",null);g.options.__file="src/project/pc/www/pages/feedback/index.vue";a.default=g.exports}}]);